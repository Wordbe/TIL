# Unit Testing 001 - 단위 테스트의 목표





# 1 단위 테스트 현황

개발 : 테스트코드 = 1 : 1 ~ 1: 10

**기업용 애플리케이션**

- 조직 내부 프로세스를 자동화하거나 지원하기 위한 응용 프로그램
- 높은 비즈니스 복잡도
- 긴 프로젝트 수명
- 중간 크기 데이터
- 낮은 수준, 중간 수준 정도의 성능 요구



# 2 단위 테스트 목표

- 소프트웨어 프로젝트의 **지속 가능한 성장**을 가능케 하는 것


- 테스트는 안정망 역할, 회귀에 대한 보험 제공
- 회귀(regression)는 소프트웨어 버그



## 좋은 테스트

- 기반 코드를 리팩터링할 때 테스트코드도 리팩터링하라
- 코드 변경시 테스트를 실행하라
- 테스트가 잘못된 경고를 발생시키면 처리하라
- 기반 코드가 어떻게 동작하는 이해하려고 할 때 테스트를 읽는 데 시간을 투자하라





# 3 테스트 스위트 품질 측정을 위한 커버리지 지표



## 코드 커버리지(= 테스트 커버리지)

- 실행 코드 라인 수 / 전체 라인 수



## 분기 커버리지(bracn coverage)

- 통과 분기 / 전체 분기 수



## 커버리지 지표 문제점

테스트 스위트(test suite, 테스트 케이스 메소드 여러개를 하나로 묶은 것)의 품질을 결정하는 데 커버리지 지표에 의존할 수 없다.

- 테스트 대상 시스템의 모든 가능한 결과를 검증한다고 보장할 수 없다.
- 외부 라이브러리의 코드 경로를 고려할수 있는 커버리지 지표는 없다.



# 4 성공적인 테스트 스위트

- 개발주기에 통합돼 있음
- 코드베이스에서 가장 중요한 부분만 대상으로 한다.
  - 비즈니스 로직 테스트가 시간 투자 대비 최고 수익을 낼 수 있다.
  - 인프라 코드
  - 데이터베이스나 서드파티와 같은 외부 서비스 및 종속성
  - 모든 것을 하나로 묶는 코드
- 최소한 유지비로 최대의 가치를 끌어낸다.

