# 웹 애니메이션

## 1. 웹 애니메이션 이해와 setTimeout 활용

사용자에게 매끄러운 UX를 지원해주어야 합니다.



### 1) 애니메이션

반복적 움직임의 처리를 말합니다.

웹 UI 애니메이션은 규칙적이고 단순한 방식으로 동작하는 CSS3의 transition, transform 속성을 사용하여 구현가능합니다.

javascript로도 구현이 가능하지만 그보다 더 빠른 성능을 보장합니다. 

특히 모바일웹에서는 CSS 방법이 더 빠릅니다. (특히 transition)



### 2) FPS

FPS(frame per second)는 1초에 화면에 표현할 수 있는 정지화면(frame) 수 입니다.

매끄러운 애니메이션은 보통 60fps 입니다.

16.666ms 간격으로 frame생성이 필요합니다. (1000ms / 60fps = 16.6666ms)



애니메이션은 CSS의 transition 속성으로 CSS속성을 변경하거나, js로 CSS속성을 변경할 수 있습니다.

CSS : 간단하고 규칙적인 것

Javascript : 세밀한 조작이 필요한 것



### 3) Javascript 애니메이션

* setInterval
* setTimeout
* requestAnimationFrame
* Animations API



---

**3.1) setInterval()**

interval(간격)를 지정해서 매 간격 시간마다 함수를 실행합니다.



interval로 정의 된 것은 비동기적이라 느립니다. 따라서 1초마다 실행하라고 설정해 놓아도 다른 함수가 먼저 실행되면서 정기적으로 실행되지 않을 수 있습니다. 이는 애니메이션 끊김 현상의 원인이 될 수 있습니다.

일어나야할 이벤트 콜백이 지연되고, 없어지는 일이 발생가능합니다. 따라서 setInterval의 사용은 함수가 실행된다고 보장할 수 없습니다.

일반적은 setInterval 사용하는 애니메이션은 잘 구성하지 않습니다.

```javascript
const interval = window.setInterval(()=> {
  console.log('current time:', new Date());
}, 1000);

window.clearInterval(interval);
```





---

**3.2) setTimeout**

방법: setTimeout으로 recursive하게 진행합니다.

다른 이유로 콜백함수가 실행되지 않을 수 있습니다. (setInterval과 같은 문제)

하지만 setTImeout은 매 순간 timeout을 조절할 수 있는, 코드구현으로 컨트롤이 가능한 부분이 있습니다. (setInterval과 다른 점)









---

**3.3) requestAnimationFrame**